{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmPopup.js","utils/api.js","images/avatar.png","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","href","target","src","headerLogoPath","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","hasOwnLike","card","likes","some","like","_id","isOwnCard","owner","link","name","onClick","onCardClick","type","onCardLike","length","onCardDelete","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","Footer","ImagePopup","useEffect","handleEsc","evt","key","onClose","window","addEventListener","removeEventListener","classesForPopup","classList","contains","PopupWithForm","isOpen","onSubmit","title","children","isLoading","loadingText","buttonText","EditProfilePopup","useState","setName","description","setDescription","e","preventDefault","onUpdateUser","placeholder","required","minLength","maxLength","value","onChange","EditAvatarPopup","avatarRef","useRef","current","onUpdateAvatar","ref","AddPlacePopup","nameRef","linkRef","onUpdateCards","ConfirmPopup","cardToDelete","api","options","this","_baseUrl","baseUrl","_headers","authorization","headers","fetch","method","then","_checkResponse","data","body","JSON","stringify","id","res","ok","json","Promise","reject","status","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","cardIdToBeDeleted","setCardIdToBeDeleted","selectedCard","setSelectedCard","profileAvatarPath","setCurrentUser","setCards","isLoadingSomething","setIsLoadingSomething","closeAllPopups","all","getUserInfo","getInitialCards","userData","initialCards","catch","err","console","log","finally","Provider","deleteLike","putLike","newCard","state","c","user","updateUserInfo","updateAvatar","insertNewCard","deletePhoto","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.faf2c006.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.9acae848.svg\";","import headerLogoPath from '../images/logo.svg';\n\nfunction Header() {\n  return (\n    <header className=\"header page__header\">\n        <a href=\"/\" className=\"header__logo\" target=\"_self\">\n          <img src={headerLogoPath} alt=\"Логотип проекта Место\" />\n        </a>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const hasOwnLike = props.card.likes.some(like => like._id === currentUser._id);\n  const isOwnCard = props.card.owner._id === currentUser._id;\n  \n  function onCardClick() {\n    props.onCardClick(props.card);\n  }  \n\n  function handleLikeClick() {\n    props.onCardLike(props.card); \n  }\n\n  function handleCardDelete() {\n    props.onCardDelete(props.card); \n  }\n\n  return (\n    <li className=\"elements__element\">\n        <img src={props.card.link} className=\"elements__image\" alt={props.card.name} onClick={onCardClick} />\n        <div className=\"elements__title\">\n            <h3 className=\"elements__text\">{props.card.name}</h3>\n            <div className=\"elements__like-container\">\n                <button type=\"button\" className={hasOwnLike ? 'elements__like elements__like_active' : 'elements__like'} onClick={handleLikeClick}></button>  \n                <p className=\"elements__like-count\">{props.card.likes.length}</p>\n            </div>\n        </div>\n        {isOwnCard && (<button type=\"button\" className=\"elements__trash-button\" onClick={handleCardDelete}></button>)}\n    </li>\n  );\n}\n\nexport default Card;\n","import React from 'react';\nimport Card from './Card';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main>\n        <section className=\"profile page__container\">\n          <div className=\"profile__avatar-overlay\">\n            <img src={currentUser.avatar} alt=\"Аватарка пользователя\" className=\"profile__avatar\" />\n            <button className=\"profile__edit-avatar-button\" onClick={props.onEditAvatar}></button>\n          </div>\n          <div className=\"profile__info\">\n            <h1 className=\"profile__name\">\n              {currentUser.name}\n            </h1>\n            <button type=\"button\" className=\"profile__edit-button\"  onClick={props.onEditProfile}></button>\n            <p className=\"profile__title\">\n              {currentUser.about}\n            </p>\n          </div>\n          <button type=\"button\" className=\"profile__add-button\"  onClick={props.onAddPlace}></button>\n        </section>\n        <section>\n          <ul className=\"elements page__elements\">\n            {props.cards.map((card) => (\n              <Card key={card._id} \n                    card={card} \n                    onCardClick={props.onCardClick} \n                    onCardLike={props.onCardLike} \n                    onCardDelete={props.onCardDelete} \n              />\n            ))};\n          </ul>\n        </section>\n    </main>\n  );   \n}\n\nexport default Main;\n","function Footer() {\n  return (\n    <footer className=\"footer page__footer\">\n        <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\n\nfunction ImagePopup(props) {\n\n  React.useEffect(() => {\n      \n    const handleEsc = (evt) => {\n      if (evt.key === \"Escape\") {\n        props.onClose();\n      }\n    };\n    window.addEventListener('keydown', handleEsc);\n    return () => {\n      window.removeEventListener('keydown', handleEsc);\n      };\n  });\n\n  const handleClick = (evt) => {\n    if (evt.target.classList.contains(\"popup\") || \n          evt.target.classList.contains(\"popup__close-button\")) {\n        props.onClose();\n    }\n  };\n\n  const classesForPopup = `popup popup_type_view ${props.card.link.length ? \"popup_opened\" : \"popup_hidden\" }`\n\n  return (\n    <div className={classesForPopup} onClick={handleClick}>\n      <div className=\"popup__container popup__container_image\">\n        <button type=\"button\" className=\"popup__close-button\" onClick={props.onClose}></button>\n        <img src={props.card.link} alt={props.card.name} className=\"popup__image\" />\n        <h3 className=\"popup__image-text\">{props.card.name}</h3>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","import React from 'react';\n\nfunction PopupWithForm(props) {\n\n  React.useEffect(() => {    \n    const handleEsc = (evt) => {\n      if (evt.key === \"Escape\") {\n        props.onClose();\n      }\n    };\n    \n    window.addEventListener('keydown', handleEsc);\n    \n    return () => {\n      window.removeEventListener('keydown', handleEsc);\n      };\n  });\n\n  const handleClick = (evt) => {\n    if (evt.target.classList.contains(\"popup\") || \n          evt.target.classList.contains(\"popup__close-button\")) {\n        props.onClose();\n    }\n  };\n\n  const classesForPopup = `popup popup_type_${props.name} ${props.isOpen ? \"popup_opened\" : \"popup_hidden\" }`;\n\n  return (\n    <div className={classesForPopup} onClick={handleClick}>\n      <div className=\"popup__container\">\n        <button type=\"button\" className=\"popup__close-button\" onClick={props.onClose}></button>\n        <form className=\"form\" name={props.name} onSubmit={props.onSubmit}>\n          <h2 className=\"form__title\">{props.title}</h2>\n          {props.children}\n          <button type=\"submit\" className=\"form__save-button\">\n            {props.isLoading ? props.loadingText : props.buttonText}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup(props) {\n\n    const currentUser = React.useContext(CurrentUserContext);\n    const [name, setName] = React.useState('');\n    const [description, setDescription] = React.useState('');\n\n    function handleChangeName(e) {\n        setName(e.target.value);\n    }\n\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n      }, [props.isOpen, currentUser]); \n\n    function handleChangeDesciption(e) {\n        setDescription(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onUpdateUser({\n          name: name,\n          about: description,\n        });\n    } \n\n    return (\n        <PopupWithForm \n            name=\"edit-profile\"\n            title=\"Редактировать профайл\"\n            buttonText=\"Сохранить\" \n            isOpen={props.isOpen} \n            onClose={props.onClose}\n            onSubmit={handleSubmit}\n            isLoading={props.isLoading}\n            loadingText=\"Загружается...\"\n        >\n            <input type=\"text\" className=\"form__field\" placeholder=\"Имя\" name=\"edit-profile-name\" required minLength=\"2\" maxLength=\"40\" value={name || ''} onChange={handleChangeName} />\n            <span className=\"form__error-message edit-profile-name-error\"></span>\n            <input type=\"text\" className=\"form__field\" placeholder=\"О себе\" name=\"edit-profile-title\" required minLength=\"2\" maxLength=\"200\" value={description || ''} onChange={handleChangeDesciption} />\n            <span className=\"form__error-message edit-profile-title-error\"></span>     \n        </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction EditAvatarPopup(props) {\n\n    const currentUser = React.useContext(CurrentUserContext);\n    const avatarRef = React.useRef(); \n\n    React.useEffect(() => {\n        avatarRef.current.value = \"\";\n    }, [props.isOpen]);\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onUpdateAvatar({avatar: avatarRef.current.value});\n    }\n\n    return (\n        <PopupWithForm \n            name=\"edit-avatar\"\n            title=\"Обновить аватар\"\n            buttonText=\"Сохранить\" \n            isOpen={props.isOpen} \n            onClose={props.onClose}\n            onSubmit={handleSubmit}\n            isLoading={props.isLoading}\n            loadingText=\"Загружается...\"\n        >\n            <input ref={avatarRef} type=\"url\" className=\"form__field\" placeholder=\"Ссылка на картинку\" name=\"avatar-link\" required />\n            <span className=\"form__error-message avatar-link-error\"></span>\n        </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) {\n\n    const nameRef = React.useRef(); \n    const linkRef = React.useRef(); \n\n    React.useEffect(() => {\n        nameRef.current.value = \"\";\n        linkRef.current.value = \"\";\n    }, [props.isOpen]);\n    \n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onUpdateCards({name: nameRef.current.value,\n            link: linkRef.current.value});\n    } \n\n    return (\n        <PopupWithForm \n            name=\"add-place\" \n            title=\"Новое место\" \n            buttonText=\"Создать\" \n            isOpen={props.isOpen} \n            onClose={props.onClose} \n            onSubmit={handleSubmit}\n            isLoading={props.isLoading}\n            loadingText=\"Загружается...\"\n        >\n            <input ref={nameRef} type=\"text\" className=\"form__field\" placeholder=\"Название\" name=\"add-place-name\" required minLength=\"2\" maxLength=\"30\" />\n            <span className=\"form__error-message add-place-name-error\"></span>\n            <input ref={linkRef} type=\"url\" className=\"form__field\" placeholder=\"Ссылка на картинку\" name=\"add-place-link\" required />\n            <span className=\"form__error-message add-place-link-error\"></span>\n        </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction ConfirmPopup(props) {\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onSubmit(props.cardToDelete);\n    }\n\n    return (\n        <PopupWithForm \n            name=\"with-confirm\" \n            title=\"Вы уверены?\" \n            buttonText=\"Да\" \n            isOpen={props.isOpen} \n            onClose={props.onClose} \n            onSubmit={handleSubmit}\n            isLoading={props.isLoading}\n            loadingText=\"Удаляется...\"\n        />\n  );\n}\n\nexport default ConfirmPopup;","class Api {\n\n    constructor(options) {\n      this._baseUrl = options.baseUrl;\n      this._headers = {\n        authorization: options.headers.authorization,\n        'Content-Type': options.headers['Content-Type']\n      };\n    }\n  \n    getInitialCards() {\n      return fetch(`${this._baseUrl}cards`, {\n        method: 'GET',\n        headers: this._headers\n      })\n      .then(this._checkResponse);\n    }\n  \n    getUserInfo() {\n      return fetch(`${this._baseUrl}users/me`, {\n        method: 'GET',\n        headers: this._headers\n      })\n      .then(this._checkResponse); \n    }\n  \n    updateUserInfo(data) {\n      return fetch(`${this._baseUrl}users/me`, {\n        method: 'PATCH',\n        headers: this._headers,\n        body: JSON.stringify({\n          name: data.name,\n          about: data.about\n        })\n      })\n      .then(this._checkResponse);\n    }\n  \n    insertNewCard(data) {\n      return fetch(`${this._baseUrl}cards`, {\n        method: 'POST',\n        headers: this._headers,\n        body: JSON.stringify({\n          name: data.name,\n          link: data.link\n        }) \n      })\n      .then(this._checkResponse);\n    }\n  \n    putLike(id) {\n      return fetch(`${this._baseUrl}cards/likes/${id}`, {\n        method: 'PUT',\n        headers: this._headers\n      })\n      .then(this._checkResponse);\n    }\n  \n    deleteLike(id) {\n      return fetch(`${this._baseUrl}cards/likes/${id}`, {\n        method: 'DELETE',\n        headers: this._headers\n        })\n      .then(this._checkResponse);\n    }\n  \n    updateAvatar(data) {\n      return fetch(`${this._baseUrl}users/me/avatar`, {\n        method: 'PATCH',\n        headers: this._headers,\n        body: JSON.stringify({\n          avatar: data.avatar\n        })\n      })\n      .then(this._checkResponse);\n    }\n  \n    deletePhoto(id) {\n      return fetch(`${this._baseUrl}cards/${id}`, {\n        method: 'DELETE',\n        headers: this._headers,\n      })\n      .then(this._checkResponse);\n    }\n  \n    _checkResponse(res) {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Error: ${res.status}`);\n    }\n  }\n  \n  const api = new Api({\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-26/',\n    headers: {\n      authorization: '05e586ce-c0c8-4f14-bbd3-b259a470e2b4',\n      'Content-Type': 'application/json'\n    }\n  });\n  \n  export default api;","export default __webpack_public_path__ + \"static/media/avatar.9d6adefb.png\";","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ConfirmPopup from './ConfirmPopup';\nimport api from '../utils/api';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\nimport profileAvatarPath from '../images/avatar.png';\n\nfunction App() {\n\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = React.useState(false);\n  const [cardIdToBeDeleted, setCardIdToBeDeleted] = React.useState({});\n  const [selectedCard, setSelectedCard] = React.useState({name: '', link: ''});\n  const [currentUser, setCurrentUser] = React.useState({avatar: profileAvatarPath});\n  const [cards, setCards] = React.useState([]);\n  const [isLoadingSomething, setIsLoadingSomething] = React.useState(false);\n\n  React.useEffect(()=>{\n    setIsLoadingSomething(true);\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n    .then(([userData, initialCards]) => {\n      setCurrentUser(userData);\n      setCards(initialCards);\n    })\n    .catch((err) => {\n      console.log(err);\n    })\n    .finally(() => {\n      setIsLoadingSomething(false)\n    });\n  }, []);\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  };\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  };\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  };\n\n  function handleConfirmation(card) {\n    setCardIdToBeDeleted({_id: card._id});\n    setIsConfirmPopupOpen(true);\n  };\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsConfirmPopupOpen(false);\n    setSelectedCard({name: '', link: ''});\n    setCardIdToBeDeleted({});\n  };\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  };\n\n  function handleUpdateUser(user) {\n    setIsLoadingSomething(true);\n    api.updateUserInfo(user)\n    .then(\n      (data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n    .catch((err) => {\n      console.log(err);\n    })\n    .finally(() => {\n      setIsLoadingSomething(false)\n    });\n  }\n\n  function handleUpdateAvatar(user) {\n    setIsLoadingSomething(true);\n    api.updateAvatar(user)\n    .then(\n      (data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n    .catch((err) => {\n      console.log(err);\n    })\n    .finally(() => {\n      setIsLoadingSomething(false)\n    });\n  }\n\n  function handleCardLike(card) {\n    setIsLoadingSomething(true);\n    const hasOwnLike = card.likes.some(like => like._id === currentUser._id);\n    (hasOwnLike ? api.deleteLike(card._id) : api.putLike(card._id))\n    .then(\n      (newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n      })\n    .catch((err) => {\n      console.log(err);\n    })\n    .finally(() => {\n      setIsLoadingSomething(false)\n    });\n  } \n  \n  function handleCardDelete(card) {\n    setIsLoadingSomething(true);\n    api.deletePhoto(card._id)\n    .then(\n      () => {\n        setCards((state) => state.filter((c) => c._id !== card._id));\n        closeAllPopups();\n      })\n    .catch((err) => {\n      console.log(err);\n    })\n    .finally(() => {\n      setIsLoadingSomething(false);\n    });\n  }\n\n  function handleAddPlaceSubmit(card) {\n    setIsLoadingSomething(true);\n    api.insertNewCard(card)\n    .then(\n      (newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n    .catch((err) => {\n      console.log(err);\n    })\n    .finally(() => {\n      setIsLoadingSomething(false)\n    });\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <Header />\n      <Main \n        onEditProfile={handleEditProfileClick}  \n        onEditAvatar={handleEditAvatarClick} \n        onAddPlace={handleAddPlaceClick} \n        onCardClick={handleCardClick} \n        cards={cards}\n        onCardLike={handleCardLike}\n        onCardDelete={handleConfirmation}\n      />\n      <Footer />\n      <EditProfilePopup \n        isOpen={isEditProfilePopupOpen} \n        onClose={closeAllPopups} \n        onUpdateUser={handleUpdateUser}\n        isLoading={isLoadingSomething}\n      />\n      <EditAvatarPopup \n        isOpen={isEditAvatarPopupOpen} \n        onClose={closeAllPopups} \n        onUpdateAvatar={handleUpdateAvatar}\n        isLoading={isLoadingSomething}\n      />\n      <AddPlacePopup \n        isOpen={isAddPlacePopupOpen} \n        onClose={closeAllPopups} \n        onUpdateCards={handleAddPlaceSubmit}\n        isLoading={isLoadingSomething}\n      />\n      <ConfirmPopup \n        isOpen={isConfirmPopupOpen} \n        onClose={closeAllPopups} \n        onSubmit={handleCardDelete}\n        isLoading={isLoadingSomething}\n        cardToDelete={cardIdToBeDeleted}\n      />\n      <ImagePopup card={selectedCard} onClose={closeAllPopups} \n      />\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport './pages/index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}