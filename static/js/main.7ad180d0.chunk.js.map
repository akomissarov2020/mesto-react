{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","images/avatar.png","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","href","target","src","headerLogoPath","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","hasOwnLike","card","likes","some","like","_id","isOwnCard","owner","link","name","onClick","onCardClick","type","onCardLike","length","orCardDelete","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","i","onCardDelete","Footer","ImagePopup","useEffect","handleEsc","evt","key","onClose","window","addEventListener","removeEventListener","classList","contains","PopupWithForm","isOpen","onSubmit","title","children","buttonText","EditProfilePopup","useState","setName","description","setDescription","editProfileChildren","placeholder","required","minLength","maxLength","value","onChange","e","preventDefault","onUpdateUser","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","editAvatarChildren","ref","current","AddPlacePopup","nameRef","linkRef","addPlaceChildren","onUpdateCards","api","options","this","_baseUrl","baseUrl","_headers","authorization","headers","fetch","method","then","_checkResponse","data","body","JSON","stringify","id","res","ok","json","Promise","reject","status","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","selectedCard","setSelectedCard","profileAvatarPath","setCurrentUser","setCards","closeAllPopups","all","getUserInfo","getInitialCards","userData","initialCards","catch","err","console","log","withConfirmChildren","Provider","deleteLike","putLike","newCard","state","c","deletePhoto","filter","user","updateUserInfo","updateAvatar","insertNewCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7ad180d0.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.9acae848.svg\";","import headerLogoPath from '../images/logo.svg';\n\nfunction Header() {\n  return (\n    <header className=\"header page__header\">\n        <a href=\"/\" className=\"header__logo\" target=\"_self\">\n          <img src={headerLogoPath} alt=\"Логотип проекта Место\" />\n        </a>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const hasOwnLike = props.card.likes.some(like => like._id === currentUser._id);\n  const isOwnCard = props.card.owner._id === currentUser._id;\n  \n  function onCardClick() {\n    props.onCardClick(props.card);\n  }  \n\n  function handleLikeClick() {\n    props.onCardLike(props.card); \n  }\n\n  function handleCardDelete() {\n    props.orCardDelete(props.card); \n  }\n\n  return (\n    <li className=\"elements__element\">\n        <img src={props.card.link} className=\"elements__image\" alt={props.card.name} onClick={onCardClick} />\n        <div className=\"elements__title\">\n            <h3 className=\"elements__text\">{props.card.name}</h3>\n            <div className=\"elements__like-container\">\n                <button type=\"button\" className={hasOwnLike ? 'elements__like elements__like_active' : 'elements__like'} onClick={handleLikeClick}></button>  \n                <p className=\"elements__like-count\">{props.card.likes.length}</p>\n            </div>\n        </div>\n        {isOwnCard ? (<button type=\"button\" className=\"elements__trash-button\" onClick={handleCardDelete}></button>) : (<></>)}\n    </li>\n  );\n}\n\nexport default Card;\n","import React from 'react';\nimport Card from './Card';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main>\n        <section className=\"profile page__container\">\n          <div className=\"profile__avatar-overlay\">\n            <img src={currentUser.avatar} alt=\"Аватарка пользователя\" className=\"profile__avatar\" />\n            <button className=\"profile__edit-avatar-button\" onClick={props.onEditAvatar}></button>\n          </div>\n          <div className=\"profile__info\">\n            <h1 className=\"profile__name\">\n              {currentUser.name}\n            </h1>\n            <button type=\"button\" className=\"profile__edit-button\"  onClick={props.onEditProfile}></button>\n            <p className=\"profile__title\">\n              {currentUser.about}\n            </p>\n          </div>\n          <button type=\"button\" className=\"profile__add-button\"  onClick={props.onAddPlace}></button>\n        </section>\n        <section>\n          <ul className=\"elements page__elements\">\n            {props.cards.map((card, i) => (\n              <Card key={card._id} \n                    card={card} \n                    onCardClick={props.onCardClick} \n                    onCardLike={props.onCardLike} \n                    orCardDelete={props.onCardDelete} \n              />\n            ))};\n          </ul>\n        </section>\n    </main>\n  );   \n}\n\nexport default Main;\n","function Footer() {\n  return (\n    <footer className=\"footer page__footer\">\n        <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\n\nfunction ImagePopup(props) {\n\n  React.useEffect(() => {\n      \n    const handleEsc = (evt) => {\n      if (evt.key === \"Escape\") {\n        props.onClose();\n      }\n    };\n    window.addEventListener('keydown', handleEsc);\n    return () => {\n      window.removeEventListener('keydown', handleEsc);\n      };\n  });\n\n  const handleClick = (evt) => {\n    if (evt.target.classList.contains(\"popup\") || \n          evt.target.classList.contains(\"popup__close-button\")) {\n        props.onClose();\n    }\n  };\n\n  return (\n    <div className={`popup popup_type_view ${props.card.link.length ? \"popup_opened\" : \"popup_hidden\" }`} onClick={handleClick}>\n      <div className=\"popup__container popup__container_image\">\n        <button type=\"button\" className=\"popup__close-button\" onClick={props.onClose}></button>\n        <img src={props.card.link} alt={props.card.name} className=\"popup__image\" />\n        <h3 className=\"popup__image-text\">{props.card.name}</h3>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","import React from 'react';\n\nfunction PopupWithForm(props) {\n\n  React.useEffect(() => {\n    const handleEsc = (evt) => {\n      if (evt.key === \"Escape\") {\n        props.onClose();\n      }\n    };\n    window.addEventListener('keydown', handleEsc);\n    return () => {\n      window.removeEventListener('keydown', handleEsc);\n      };\n  });\n\n  const handleClick = (evt) => {\n    if (evt.target.classList.contains(\"popup\") || \n          evt.target.classList.contains(\"popup__close-button\")) {\n        props.onClose();\n    }\n  };\n\n  return (\n    <div className={`popup popup_type_${props.name} ${props.isOpen ? \"popup_opened\" : \"popup_hidden\" }`} onClick={handleClick}>\n      <div className=\"popup__container\">\n        <button type=\"button\" className=\"popup__close-button\" onClick={props.onClose}></button>\n        <form className=\"form\" name={props.name} onSubmit={props.onSubmit}>\n          <h2 className=\"form__title\">{props.title}</h2>\n          {props.children}\n          <button type=\"submit\" className=\"form__save-button\">{props.buttonText}</button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup(props) {\n\n    const currentUser = React.useContext(CurrentUserContext);\n    const [name, setName] = React.useState('');\n    const [description, setDescription] = React.useState('');\n\n    function handleChangeName(e) {\n        setName(e.target.value);\n    }\n\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n      }, [currentUser]); \n\n    function handleChangeDesciption(e) {\n        setDescription(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onUpdateUser({\n          name: name,\n          about: description,\n        });\n    } \n\n    const editProfileChildren = (<>\n        <input type=\"text\" className=\"form__field\" placeholder=\"Имя\" name=\"edit-profile-name\" required minLength=\"2\" maxLength=\"40\" value={name} onChange={handleChangeName} />\n        <span className=\"form__error-message edit-profile-name-error\"></span>\n        <input type=\"text\" className=\"form__field\" placeholder=\"О себе\" name=\"edit-profile-title\" required minLength=\"2\" maxLength=\"200\" value={description} onChange={handleChangeDesciption} />\n        <span className=\"form__error-message edit-profile-title-error\"></span>     \n    </>);\n\n    return (\n        <>\n            <PopupWithForm \n                name=\"edit-profile\"\n                title=\"Редактировать профайл\"\n                children={editProfileChildren} \n                buttonText=\"Сохранить\" \n                isOpen={props.isOpen} \n                onClose={props.onClose}\n                onSubmit={handleSubmit}\n            />\n        </>\n  );\n}\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction EditAvatarPopup(props) {\n\n    const currentUser = React.useContext(CurrentUserContext);\n    const [avatar, onUpdateAvatar] = React.useState('');\n    const avatarRef = React.useRef(); \n\n    function handleChangeAvatar(e) {\n        onUpdateAvatar(e.target.value);\n    }\n\n    React.useEffect(() => {\n        onUpdateAvatar(currentUser.avatar);\n    }, [currentUser]); \n\n    function handleSubmit(e) {\n        e.preventDefault();\n        onUpdateAvatar({\n          avatar: avatarRef.current.value,\n        });\n        props.onUpdateAvatar({avatar: avatar});\n    } \n\n    const editAvatarChildren = (<>\n        <input ref={avatarRef} type=\"url\" className=\"form__field\" placeholder=\"Ссылка на картинку\" name=\"avatar-link\" value={avatar} onChange={handleChangeAvatar} required />\n        <span className=\"form__error-message avatar-link-error\"></span>\n    </>);\n\n    return (\n        <>\n            <PopupWithForm \n                name=\"edit-avatar\"\n                title=\"Обновить аватар\"\n                children={editAvatarChildren} \n                buttonText=\"Сохранить\" \n                isOpen={props.isOpen} \n                onClose={props.onClose}\n                onSubmit={handleSubmit}\n            />\n        </>\n  );\n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) {\n\n    const nameRef = React.useRef(); \n    const linkRef = React.useRef(); \n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onUpdateCards({name: nameRef.current.value,\n            link: linkRef.current.value});\n    } \n\n    const addPlaceChildren = (<>\n        <input ref={nameRef} type=\"text\" className=\"form__field\" placeholder=\"Название\" name=\"add-place-name\" required minLength=\"2\" maxLength=\"30\" />\n        <span className=\"form__error-message add-place-name-error\"></span>\n        <input ref={linkRef} type=\"url\" className=\"form__field\" placeholder=\"Ссылка на картинку\" name=\"add-place-link\" required />\n        <span className=\"form__error-message add-place-link-error\"></span>\n    </>);\n\n    return (\n        <>\n            <PopupWithForm \n                name=\"add-place\" \n                title=\"Новое место\" \n                buttonText=\"Создать\" \n                children={addPlaceChildren} \n                isOpen={props.isOpen} \n                onClose={props.onClose} \n                onSubmit={handleSubmit}\n                />\n        </>\n  );\n}\n\nexport default AddPlacePopup;","class Api {\n\n    constructor(options) {\n      this._baseUrl = options.baseUrl;\n      this._headers = {\n        authorization: options.headers.authorization,\n        'Content-Type': options.headers['Content-Type']\n      };\n    }\n  \n    getInitialCards() {\n      return fetch(`${this._baseUrl}cards`, {\n        method: 'GET',\n        headers: this._headers\n      })\n      .then(this._checkResponse);\n    }\n  \n    getUserInfo() {\n      return fetch(`${this._baseUrl}users/me`, {\n        method: 'GET',\n        headers: this._headers\n      })\n      .then(this._checkResponse); \n    }\n  \n    updateUserInfo(data) {\n      return fetch(`${this._baseUrl}users/me`, {\n        method: 'PATCH',\n        headers: this._headers,\n        body: JSON.stringify({\n          name: data.name,\n          about: data.about\n        })\n      })\n      .then(this._checkResponse);\n    }\n  \n    insertNewCard(data) {\n      return fetch(`${this._baseUrl}cards`, {\n        method: 'POST',\n        headers: this._headers,\n        body: JSON.stringify({\n          name: data.name,\n          link: data.link\n        }) \n      })\n      .then(this._checkResponse);\n    }\n  \n    putLike(id) {\n      return fetch(`${this._baseUrl}cards/likes/${id}`, {\n        method: 'PUT',\n        headers: this._headers\n      })\n      .then(this._checkResponse);\n    }\n  \n    deleteLike(id) {\n      return fetch(`${this._baseUrl}cards/likes/${id}`, {\n        method: 'DELETE',\n        headers: this._headers\n        })\n      .then(this._checkResponse);\n    }\n  \n    updateAvatar(data) {\n      return fetch(`${this._baseUrl}users/me/avatar`, {\n        method: 'PATCH',\n        headers: this._headers,\n        body: JSON.stringify({\n          avatar: data.avatar\n        })\n      })\n      .then(this._checkResponse);\n    }\n  \n    deletePhoto(id) {\n      return fetch(`${this._baseUrl}cards/${id}`, {\n        method: 'DELETE',\n        headers: this._headers,\n      })\n      .then(this._checkResponse);\n    }\n  \n    _checkResponse(res) {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Error: ${res.status}`);\n    }\n  }\n  \n  const api = new Api({\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-26/',\n    headers: {\n      authorization: '05e586ce-c0c8-4f14-bbd3-b259a470e2b4',\n      'Content-Type': 'application/json'\n    }\n  });\n  \n  export default api;","export default __webpack_public_path__ + \"static/media/avatar.9d6adefb.png\";","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport PopupWithForm from './PopupWithForm';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport api from '../utils/api';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\nimport profileAvatarPath from '../images/avatar.png';\n\nfunction App() {\n\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({name: '', link: ''});\n  const [currentUser, setCurrentUser] = React.useState({avatar: profileAvatarPath});\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(()=>{\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n    .then(([userData, initialCards]) => {\n      setCurrentUser(userData);\n      setCards(initialCards);\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }, []);\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  };\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  };\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  };\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard({name: '', link: ''});\n  };\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  };\n\n  function handleUpdateUser(user) {\n    api.updateUserInfo(user).then(\n      (data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      }\n    );\n  }\n\n  function handleUpdateAvatar(user) {\n    api.updateAvatar(user).then(\n      (data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      }\n    );\n  }\n\n  function handleCardLike(card) {\n    const hasOwnLike = card.likes.some(like => like._id === currentUser._id);\n    (hasOwnLike ? api.deleteLike(card._id) : api.putLike(card._id)).then(\n      (newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n      }\n    );\n  } \n  \n  function handleCardDelete(card) {\n    api.deletePhoto(card._id).then(\n      () => {\n        setCards((state) => state.filter((c) => c._id !== card._id));\n      }\n    );\n  }\n\n  function handleAddPlaceSubmit(card) {\n    api.insertNewCard(card).then(\n      (newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      }\n    );\n  }\n\n  const withConfirmChildren = (<>\n  </>);\n\n  return (\n  <CurrentUserContext.Provider value={currentUser}>\n    <Header />\n    <Main \n      onEditProfile={handleEditProfileClick}  \n      onEditAvatar={handleEditAvatarClick} \n      onAddPlace={handleAddPlaceClick} \n      onCardClick={handleCardClick} \n      cards={cards}\n      onCardLike={handleCardLike}\n      onCardDelete={handleCardDelete}\n    />\n    <Footer />\n    <EditProfilePopup \n      isOpen={isEditProfilePopupOpen} \n      onClose={closeAllPopups} \n      onUpdateUser={handleUpdateUser}\n    />\n    <EditAvatarPopup \n      isOpen={isEditAvatarPopupOpen} \n      onClose={closeAllPopups} \n      onUpdateAvatar={handleUpdateAvatar}\n    />\n    <AddPlacePopup \n      isOpen={isAddPlacePopupOpen} \n      onClose={closeAllPopups} \n      onUpdateCards={handleAddPlaceSubmit}\n    />\n    <PopupWithForm name=\"with-confirm\" title=\"Вы уверены?\" buttonText=\"Да\" children={withConfirmChildren} isOpen={false} onClose={closeAllPopups} />\n    <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n  </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport './pages/index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}